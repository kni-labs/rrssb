+function(t,e,i){"use strict";var r={calc:!1};e.fn.rrssb=function(t){var i=e.extend({description:void 0,emailAddress:void 0,emailBody:void 0,emailSubject:void 0,image:void 0,title:void 0,url:void 0},t);i.emailSubject=i.emailSubject||i.title,i.emailBody=i.emailBody||(i.description?i.description:"")+(i.url?"\n\n"+i.url:"");for(var r in i)i.hasOwnProperty(r)&&void 0!==i[r]&&(i[r]=a(i[r]));void 0!==i.url&&(e(this).find(".rrssb-facebook a").attr("href","https://www.facebook.com/sharer/sharer.php?u="+i.url),e(this).find(".rrssb-tumblr a").attr("href","http://tumblr.com/share/link?url="+i.url+(void 0!==i.title?"&name="+i.title:"")+(void 0!==i.description?"&description="+i.description:"")),e(this).find(".rrssb-linkedin a").attr("href","http://www.linkedin.com/shareArticle?mini=true&url="+i.url+(void 0!==i.title?"&title="+i.title:"")+(void 0!==i.description?"&summary="+i.description:"")),e(this).find(".rrssb-twitter a").attr("href","https://twitter.com/intent/tweet?text="+(void 0!==i.description?i.description:"")+"%20"+i.url),e(this).find(".rrssb-hackernews a").attr("href","https://news.ycombinator.com/submitlink?u="+i.url+(void 0!==i.title?"&text="+i.title:"")),e(this).find(".rrssb-vk a").attr("href","https://vk.com/share.php?url="+i.url),e(this).find(".rrssb-reddit a").attr("href","http://www.reddit.com/submit?url="+i.url+(void 0!==i.description?"&text="+i.description:"")+(void 0!==i.title?"&title="+i.title:"")),e(this).find(".rrssb-googleplus a").attr("href","https://plus.google.com/share?url="+i.url),e(this).find(".rrssb-pinterest a").attr("href","http://pinterest.com/pin/create/button/?url="+i.url+(void 0!==i.image?"&amp;media="+i.image:"")+(void 0!==i.description?"&description="+i.description:"")),e(this).find(".rrssb-pocket a").attr("href","https://getpocket.com/save?url="+i.url),e(this).find(".rrssb-github a").attr("href",i.url),e(this).find(".rrssb-print a").attr("href","javascript:window.print()"),e(this).find(".rrssb-whatsapp a").attr("href","whatsapp://send?text="+(void 0!==i.description?i.description+"%20":void 0!==i.title?i.title+"%20":"")+i.url),e(this).find(".rrssb-telegram a").attr("href","https://telegram.me/share/?url="+i.url+(void 0!==i.title?"&text="+i.title:""))),(void 0!==i.emailAddress||i.emailSubject)&&e(this).find(".rrssb-email a").attr("href","mailto:"+(i.emailAddress?i.emailAddress:"")+"?"+(void 0!==i.emailSubject?"subject="+i.emailSubject:"")+(void 0!==i.emailBody?"&body="+i.emailBody:""))};var s=function(){var t=e("<div>"),i=["calc","-webkit-calc","-moz-calc"];e("body").append(t);for(var s=0;s<i.length;s++)if(t.css("width",i[s]+"(1px)"),1===t.width()){r.calc=i[s];break}t.remove()},a=function(t){if(void 0!==t&&null!==t){if(null===t.match(/%[0-9a-f]{2}/i))return encodeURIComponent(t);t=decodeURIComponent(t),a(t)}},n=function(){e(".rrssb-buttons").each(function(t){var i=e(this),r=e("li:visible",i),s=r.length,a=100/s;r.css("width",a+"%").attr("data-initwidth",a)})},l=function(){e(".rrssb-buttons").each(function(t){var i=e(this),r=i.width(),s=e("li",i).not(".small").eq(0).width(),a=e("li.small",i).length;if(s>170&&a<1){i.addClass("large-format");var n=s/12+"px";i.css("font-size",n)}else i.removeClass("large-format"),i.css("font-size","");r<25*a?i.removeClass("small-format").addClass("tiny-format"):i.removeClass("tiny-format")})},o=function(){e(".rrssb-buttons").each(function(t){var i=e(this),r=e("li",i),s=r.filter(".small"),a=0,n=0,l=s.eq(0),o=parseFloat(l.attr("data-size"))+55,d=s.length;if(d===r.length){42*d+o<i.width()&&(i.removeClass("small-format"),s.eq(0).removeClass("small"),c())}else{r.not(".small").each(function(t){var i=e(this),r=parseFloat(i.attr("data-size"))+55,s=parseFloat(i.width());a+=s,n+=r});o<a-n&&(l.removeClass("small"),c())}})},d=function(t){e(".rrssb-buttons").each(function(t){var i=e(this),r=e("li",i);e(r.get().reverse()).each(function(t,i){var s=e(this);if(!1===s.hasClass("small")){if(parseFloat(s.attr("data-size"))+55>parseFloat(s.width())){var a=r.not(".small").last();e(a).addClass("small"),c()}}--i||o()})}),!0===t&&u(c)},c=function(){e(".rrssb-buttons").each(function(t){var i,s,a,l,o,d=e(this),c=e("li",d),h=c.filter(".small"),u=h.length;u>0&&u!==c.length?(d.removeClass("small-format"),h.css("width","42px"),a=42*u,i=c.not(".small").length,s=100/i,o=a/i,!1===r.calc?(l=(d.innerWidth()-1)/i-o,l=Math.floor(1e3*l)/1e3,l+="px"):l=r.calc+"("+s+"% - "+o+"px)",c.not(".small").css("width",l)):u===c.length?(d.addClass("small-format"),n()):(d.removeClass("small-format"),n())}),l()},h=function(){e(".rrssb-buttons").each(function(t){e(this).addClass("rrssb-"+(t+1))}),s(),n(),e(".rrssb-buttons li .rrssb-text").each(function(t){var i=e(this),r=i.width();i.closest("li").attr("data-size",r)}),d(!0)},u=function(t){e(".rrssb-buttons li.small").removeClass("small"),d(),t()},m=function(e,i,r,s){var a=void 0!==t.screenLeft?t.screenLeft:screen.left,n=void 0!==t.screenTop?t.screenTop:screen.top,l=t.innerWidth?t.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,o=t.innerHeight?t.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,d=l/2-r/2+a,c=o/3-s/3+n,h=t.open(e,i,"scrollbars=yes, width="+r+", height="+s+", top="+c+", left="+d);h&&h.focus&&h.focus()},f=function(){var t={};return function(e,i,r){r||(r="Don't call this twice without a uniqueId"),t[r]&&clearTimeout(t[r]),t[r]=setTimeout(e,i)}}();e(document).ready(function(){try{e(document).on("click",".rrssb-buttons a.popup",{},function(t){var i=e(this);m(i.attr("href"),i.find(".rrssb-text").html(),580,470),t.preventDefault()})}catch(t){}e(t).resize(function(){u(c),f(function(){u(c)},200,"finished resizing")}),h()}),t.rrssbInit=h}(window,jQuery);