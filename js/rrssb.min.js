/*
 Ridiculously Responsive Social Sharing Buttons
 Team: @dbox, @joshuatuscan
 Site: http://www.kurtnoble.com/labs/rrssb
 Twitter: @therealkni

        ___           ___
       /__/|         /__/\        ___
      |  |:|         \  \:\      /  /\
      |  |:|          \  \:\    /  /:/
    __|  |:|      _____\__\:\  /__/::\
   /__/\_|:|____ /__/::::::::\ \__\/\:\__
   \  \:\/:::::/ \  \:\~~\~~\/    \  \:\/\
    \  \::/~~~~   \  \:\  ~~~      \__\::/
     \  \:\        \  \:\          /__/:/
      \  \:\        \  \:\         \__\/
       \__\/         \__\/
*/!function(t,s,e){"use strict";var a=function(){s(".rrssb-buttons").each(function(){var t=s(this),e=s("li",t).length,a=100/e;s("li",t).css("width",a+"%").attr("data-initwidth",a)})},i=function(){s(".rrssb-buttons").each(function(){var t=s(this),e=parseFloat(s(t).width()),a=s("li",t).not(".small").first().width(),i=s("li.small",t).length;a>170&&1>i?s(t).addClass("large-format"):s(t).removeClass("large-format"),200>e?s(t).removeClass("small-format").addClass("tiny-format"):s(t).removeClass("tiny-format")})},l=function(){s(".rrssb-buttons").each(function(){var t,e,a=s(this),i=0,l=0,n=s("li.small",a).length;if(n===s("li",a).length){var o=42*n,c=parseFloat(s(a).width());t=s("li.small",a).first(),e=parseFloat(s(t).attr("data-size"))+55,c>o+e&&(s(a).removeClass("small-format"),s("li.small",a).first().removeClass("small"),r())}else{s("li",a).not(".small").each(function(){var t=parseFloat(s(this).attr("data-size"))+55,e=parseFloat(s(this).width());i+=e,l+=t});var h=i-l;t=s("li.small",a).first(),e=parseFloat(s(t).attr("data-size"))+55,h>e&&(s(t).removeClass("small"),r())}})},n=function(t){s(".rrssb-buttons").each(function(){{var t=s(this),e=s("li",t).nextAll();e.length}s(s("li",t).get().reverse()).each(function(e,a){if(s(this).hasClass("small")===!1){var i=parseFloat(s(this).attr("data-size"))+55,n=parseFloat(s(this).width());if(i>n){var o=s("li",t).not(".small").last();s(o).addClass("small"),r()}}--a||l()})}),t===!0&&c(r)},r=function(){s(".rrssb-buttons").each(function(){var t,e,i,l,n,r=s(this),o=s("li.small",r).length;o>0&&o!==s("li",r).length?(s(r).removeClass("small-format"),s("li.small",r).css("width","42px"),i=42*o,t=s("li",r).not(".small").length,e=100/t,n=i/t,l=navigator.userAgent.indexOf("Chrome")>=0||navigator.userAgent.indexOf("Safari")>=0?"-webkit-calc("+e+"% - "+n+"px)":navigator.userAgent.indexOf("Firefox")>=0?"-moz-calc("+e+"% - "+n+"px)":"calc("+e+"% - "+n+"px)",s("li",r).not(".small").css("width",l)):o===s("li",r).length?(s(r).addClass("small-format"),a()):(s(r).removeClass("small-format"),a())}),i()},o=function(){s(".rrssb-buttons").each(function(t){s(this).addClass("rrssb-"+(t+1))}),a(),s(".rrssb-buttons li .text").each(function(){var t=parseFloat(s(this).width());s(this).closest("li").attr("data-size",t)}),n(!0)},c=function(t){s(".rrssb-buttons li.small").removeClass("small"),n(),t()},h=function(s,a,i,l){var n=t.screenLeft!==e?t.screenLeft:screen.left,r=t.screenTop!==e?t.screenTop:screen.top,o=t.innerWidth?t.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,c=t.innerHeight?t.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,h=o/2-i/2+n,m=c/3-l/3+r,u=t.open(s,a,"scrollbars=yes, width="+i+", height="+l+", top="+m+", left="+h);t.focus&&u.focus()},m=function(){var t={};return function(s,e,a){a||(a="Don't call this twice without a uniqueId"),t[a]&&clearTimeout(t[a]),t[a]=setTimeout(s,e)}}();s(".rrssb-buttons a.popup").on("click",function(t){var e=s(this);h(e.attr("href"),e.find(".text").html(),580,470),t.preventDefault()}),s(t).resize(function(){c(r),m(function(){c(r)},200,"finished resizing")}),s(document).ready(function(){o()}),t.rrssbInit=o}(window,jQuery);